import { useEffect, useRef, useState } from "react";
import { Link } from "react-router-dom";

export function SideBar() {

    const sideBarRef = useRef()
    const favoritesRef = useRef()
    const [sidebarWidth, setSideBarWidth] = useState(255)

    useEffect(() => {
        sideBarRef.current.style.width = sidebarWidth + 'px'
    }, [setSideBarWidth])

    function onActiveFavorites() {
        favoritesRef.current.classList.toggle('active')
    }

    return (
        <section ref={sideBarRef} className="sidebar">
            <div className="navigation">
                <div className="nav">
                    <Link>
                        <svg viewBox="0 0 20 20" fill="currentColor" width="18" height="18" aria-hidden="true" tabindex="-1" className="icon_e7210c37bd" data-testid="icon"><path d="M9.56992 2.1408C9.82591 1.95307 10.1741 1.95307 10.4301 2.1408L17.7028 7.47413C17.8896 7.61113 18 7.82894 18 8.06061V16.7879C18 17.1895 17.6744 17.5152 17.2727 17.5152H11.9394C11.5377 17.5152 11.2121 17.1895 11.2121 16.7879V13.1515H8.78788V16.7879C8.78788 17.1895 8.46227 17.5152 8.06061 17.5152H2.72727C2.32561 17.5152 2 17.1895 2 16.7879V8.06061C2 7.82894 2.11037 7.61113 2.29719 7.47413L9.56992 2.1408ZM3.45455 8.42914V16.0606H7.33333V12.4242C7.33333 12.0226 7.65894 11.697 8.06061 11.697H11.9394C12.3411 11.697 12.6667 12.0226 12.6667 12.4242V16.0606H16.5455V8.42914L10 3.62914L3.45455 8.42914Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                        Home
                    </Link>
                    <div className="left-arrow">
                        <button>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="14" height="14" role="button" tabindex="0" aria-hidden="false" class="icon_e7210c37bd GD1dz clickable_d5a9dfa7fb noFocusStyle_26dd7872ca" data-testid="icon"><path d="M5.46967 10.5303L6 10L5.46967 9.46967C5.17678 9.76256 5.17678 10.2374 5.46967 10.5303ZM7.06066 10L13.5303 3.53033C13.8232 3.23744 13.8232 2.76256 13.5303 2.46967C13.2374 2.17678 12.7626 2.17678 12.4697 2.46967L5.46967 9.46967L6 10L5.46967 10.5303L12.4697 17.5303C12.7626 17.8232 13.2374 17.8232 13.5303 17.5303C13.8232 17.2374 13.8232 16.7626 13.5303 16.4697L7.06066 10Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" /></svg>
                        </button>
                    </div>
                </div>
                <div className="nav">
                    <Link className="active">
                        <svg viewBox="0 0 20 20" fill="currentColor" width="18" height="18" aria-hidden="true" tabindex="-1" className="icon_e7210c37bd" data-testid="icon"><path d="M5.99986 1.82129C6.41407 1.82129 6.74986 2.15708 6.74986 2.57129V4.10701H13.2499V2.57129C13.2499 2.15708 13.5856 1.82129 13.9999 1.82129C14.4141 1.82129 14.7499 2.15708 14.7499 2.57129V4.107H16.2856C16.7876 4.107 17.269 4.30643 17.624 4.66141C17.979 5.01639 18.1784 5.49784 18.1784 5.99986V16.2856C18.1784 16.7876 17.979 17.269 17.624 17.624C17.269 17.979 16.7876 18.1784 16.2856 18.1784H3.71415C3.21213 18.1784 2.73067 17.979 2.37569 17.624C2.02071 17.269 1.82129 16.7876 1.82129 16.2856V5.99986C1.82129 5.49784 2.02071 5.01639 2.37569 4.66141C2.73067 4.30643 3.21213 4.107 3.71415 4.107C3.763 4.107 3.81077 4.11168 3.85702 4.1206C3.90326 4.11168 3.95102 4.10701 3.99986 4.10701H5.24986V2.57129C5.24986 2.15708 5.58565 1.82129 5.99986 1.82129ZM5.24986 7.14272V5.60701H3.99986C3.95101 5.60701 3.90324 5.60234 3.85699 5.59342C3.81075 5.60233 3.76299 5.607 3.71415 5.607C3.60995 5.607 3.51003 5.64839 3.43635 5.72207C3.36268 5.79574 3.32129 5.89567 3.32129 5.99986V16.2856C3.32129 16.3898 3.36268 16.4897 3.43635 16.5634C3.51003 16.637 3.60995 16.6784 3.71415 16.6784H16.2856C16.3898 16.6784 16.4897 16.637 16.5634 16.5634C16.637 16.4897 16.6784 16.3898 16.6784 16.2856V5.99986C16.6784 5.89567 16.637 5.79574 16.5634 5.72207C16.4897 5.64839 16.3898 5.607 16.2856 5.607H14.7499V7.14272C14.7499 7.55693 14.4141 7.89272 13.9999 7.89272C13.5856 7.89272 13.2499 7.55693 13.2499 7.14272V5.60701H6.74986V7.14272C6.74986 7.55693 6.41407 7.89272 5.99986 7.89272C5.58565 7.89272 5.24986 7.55693 5.24986 7.14272ZM13.4214 9.92231C13.6942 9.61058 13.6626 9.13676 13.3509 8.864C13.0392 8.59124 12.5653 8.62283 12.2926 8.93455L8.75058 12.9825L7.02129 11.6856C6.68992 11.437 6.21982 11.5042 5.97129 11.8356C5.72276 12.1669 5.78992 12.637 6.12129 12.8856L8.407 14.5999C8.72086 14.8353 9.16309 14.789 9.42144 14.4937L13.4214 9.92231Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                        My work
                    </Link>
                </div>
            </div>

            <div className="divider"></div>

            <div ref={favoritesRef} className="favorites-container ">
                <div onClick={onActiveFavorites} className="content">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.38651 0.919639L8.72889 1.24523L9.38698 0.920593L11.129 4.45187L15.0309 5.02032C15.2789 5.05775 15.5116 5.16372 15.7026 5.32629C15.8937 5.48886 16.0355 5.70156 16.1121 5.94041C16.1888 6.17927 16.1972 6.43478 16.1364 6.67816C16.0757 6.92112 15.9484 7.14233 15.769 7.31695L15.768 7.31784L12.9482 10.0673L13.6135 13.9517L13.6138 13.9535C13.6571 14.2021 13.6297 14.4578 13.5347 14.6916C13.4394 14.9259 13.2801 15.1287 13.0749 15.2767C12.8698 15.4246 12.6271 15.5118 12.3747 15.5283C12.1238 15.5446 11.8735 15.4904 11.6519 15.3718L8.17876 13.5456L4.69674 15.3773C4.47515 15.4959 4.22475 15.5502 3.97387 15.5338C3.72146 15.5174 3.47877 15.4302 3.27362 15.2823C3.06847 15.1343 2.90914 14.9315 2.81388 14.6972C2.71885 14.4634 2.69143 14.2076 2.73473 13.959L2.73504 13.9573L3.4004 10.0728L0.58498 7.32119L0.58397 7.32021C0.404543 7.1456 0.277339 6.92443 0.216658 6.68151C0.155863 6.43814 0.164258 6.18262 0.240897 5.94377C0.317535 5.70491 0.45937 5.49221 0.650413 5.32964C0.841455 5.16707 1.07411 5.0611 1.32215 5.02367L1.32538 5.02319L5.22851 4.45192L6.97099 0.919639C7.08244 0.694536 7.25457 0.505061 7.46798 0.37259C7.68139 0.240118 7.92757 0.169922 8.17875 0.169922C8.42993 0.169922 8.67611 0.240118 8.88952 0.37259C9.10292 0.505061 9.27506 0.694536 9.38651 0.919639Z" /></svg>
                    <span>Favorites</span>

                    <div className="tools">
                        <div className="dots">
                            <button>
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="20" height="20" role="img" aria-hidden="true"><path d="M6 10.5C6 11.3284 5.32843 12 4.5 12 3.67157 12 3 11.3284 3 10.5 3 9.67157 3.67157 9 4.5 9 5.32843 9 6 9.67157 6 10.5zM11.8333 10.5C11.8333 11.3284 11.1618 12 10.3333 12 9.50492 12 8.83334 11.3284 8.83334 10.5 8.83334 9.67157 9.50492 9 10.3333 9 11.1618 9 11.8333 9.67157 11.8333 10.5zM17.6667 10.5C17.6667 11.3284 16.9951 12 16.1667 12 15.3383 12 14.6667 11.3284 14.6667 10.5 14.6667 9.67157 15.3383 9 16.1667 9 16.9951 9 17.6667 9.67157 17.6667 10.5z" fill="currentColor" /></svg>
                            </button>
                        </div>

                        <div className="arrow">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="18" height="18" aria-hidden="true" class="icon_e7210c37bd bar6H noFocusStyle_26dd7872ca" data-testid="icon"><path d="M10.5303 12.5303L10 12L9.46967 12.5303C9.76256 12.8232 10.2374 12.8232 10.5303 12.5303ZM10 10.9393L6.53033 7.46967C6.23744 7.17678 5.76256 7.17678 5.46967 7.46967C5.17678 7.76256 5.17678 8.23744 5.46967 8.53033L9.46967 12.5303L10 12L10.5303 12.5303L14.5303 8.53033C14.8232 8.23744 14.8232 7.76256 14.5303 7.46967C14.2374 7.17678 13.7626 7.17678 13.4697 7.46967L10 10.9393Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" /></svg>
                        </div>
                    </div>

                </div>

                <div className="favorite-boards">
                    <div className="board">Board</div>
                </div>
            </div>

            <div className="divider"></div>

            <div className="workspaces-display">

                <div className="workspace-name">
                    <span>S</span>
                    <h2>Sprint 4 - monday</h2>
                </div>

                <div className="down-arrow">
                    <span>v</span>
                </div>

                <div className="dots">
                    <span>dots</span>
                </div>

            </div>


        </section>
    )
}